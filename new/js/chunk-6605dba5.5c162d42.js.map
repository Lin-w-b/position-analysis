{"version":3,"sources":["webpack:///./src/views/position/analysis.vue?93cc","webpack:///./src/views/position/charts/column-bar-sub.vue?c479","webpack:///./src/views/position/analysis.vue?fffc","webpack:///./src/views/position/charts/heat-map.vue?f8ab","webpack:///src/views/position/charts/heat-map.vue","webpack:///./src/views/position/charts/heat-map.vue?1327","webpack:///./src/views/position/charts/heat-map.vue","webpack:///./src/views/position/charts/column-bar.vue?3c55","webpack:///src/views/position/charts/column-bar.vue","webpack:///./src/views/position/charts/column-bar.vue?738d","webpack:///./src/views/position/charts/column-bar.vue","webpack:///./src/views/position/charts/column-bar-sub.vue?21a0","webpack:///src/views/position/charts/column-bar-sub.vue","webpack:///./src/views/position/charts/column-bar-sub.vue?6317","webpack:///./src/views/position/charts/column-bar-sub.vue","webpack:///./src/api/position.js","webpack:///src/views/position/analysis.vue","webpack:///./src/views/position/analysis.vue?ef02","webpack:///./src/views/position/analysis.vue","webpack:///./src/views/position/charts/column-bar.vue?045e","webpack:///./src/views/position/charts/heat-map.vue?3d56"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","heatMapData","companySizeData","educationData","staticRenderFns","directives","name","rawName","value","expression","ref","_v","props","type","Array","default","data","loading","heatMapDom","salary","workYears","watch","handler","initHeatmap","mounted","$echarts","init","$refs","heatmap","activated","methods","setTimeout","forEach","item","push","index","idx","element","animation","grid","bottom","left","right","containLabel","xAxis","axisTick","show","axisLabel","color","axisLine","lineStyle","yAxis","visualMap","pieces","textStyle","orient","top","series","label","emphasis","itemStyle","shadowBlur","shadowColor","setOption","option","component","companySizeDom","initCompanySize","companySizepDom","companySize","getPositionHeatmap","loc","pos","request","url","method","params","getCompanySize","getEducation","components","heatMap","columnBar","columnBarSub","getHeatmapData","getCompanySizeData","getEducationData"],"mappings":"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AK0E,gBAAkB1E,KAAK+B,SAASC,KAAKhC,KAAKiC,MAAM0C,cAEvDvC,QAAS,CACP,gBADJ,WACA,2HASA,IAFA,MACA,IACA,0BACA,mBACA,aAGA,2CACA,eAGA,uBACA,eACA,KAEA,GACA,kBACA,SACA,eACA,qCACA,aACA,cACA,aACA,6BAGA,UATA,SASA,SACA,OADA,EACA,OADA,EACA,QADA,EACA,MACA,iLACA,WAGA,SACA,QACA,SACA,UACA,mBAEA,gCACA,WACA,gBAEA,WACA,UAEA,MACA,YACA,UACA,YAGA,OACA,CACA,gBACA,OACA,UACA,SAEA,WACA,iBAEA,UACA,WACA,oBAKA,OACA,CACA,aACA,WACA,gBACA,SAEA,UACA,SAEA,WACA,WACA,iCAGA,WACA,QACA,WACA,2CAGA,UACA,WACA,kBAGA,gBAGA,QACA,CACA,aACA,WAEA,kBACA,WACA,+BACA,uBAEA,UACA,WACA,+BACA,wBAGA,QAEA,CACA,aACA,WAEA,kBACA,gBACA,YACA,OACA,QACA,kBACA,UAHA,SAGA,OACA,UACA,kBAMA,+BA5IA,gDCpCsX,ICQlX,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,oBCbR,SAASwC,IAA8C,IAA3BC,EAA2B,uDAArB,OAAQC,EAAa,uDAAP,MACrD,OAAOC,eAAQ,CACbC,IAAK,+BACLC,OAAQ,MACRC,OAAQ,CACNL,MACAC,SAKC,SAASK,IAA0C,IAA3BN,EAA2B,uDAArB,OAAQC,EAAa,uDAAP,MACjD,OAAOC,eAAQ,CACbC,IAAK,mCACLC,OAAQ,MACRC,OAAQ,CACNL,MACAC,SAKC,SAASM,IAAwC,IAA3BP,EAA2B,uDAArB,OAAQC,EAAa,uDAAP,MAC/C,OAAOC,eAAQ,CACbC,IAAK,gCACLC,OAAQ,MACRC,OAAQ,CACNL,MACAC,S,4TCfN,OACEO,WAAY,CACVC,QAAJ,EACIC,UAAJ,EACIC,aAAJ,GAEElE,KANF,WAOI,MAAO,CACLf,YAAa,GACbC,gBAAiB,GACjBC,cAAe,KAGnBqB,QAbF,WAcI9B,KAAKyF,iBACLzF,KAAK0F,qBACL1F,KAAK2F,oBAEPxD,UAlBF,aAmBEC,QAAS,CACP,eADJ,WACA,qIACA,IADA,gBACA,EADA,EACA,KACA,gBAFA,8CAII,mBALJ,WAKA,qIACA,IADA,gBACA,EADA,EACA,KACA,oBAFA,8CAII,iBATJ,WASA,qIACA,IADA,gBACA,EADA,EACA,KACA,kBAFA,gDC/CiW,ICQ7V,G,UAAY,eACd,EACAtC,EACAY,GACA,EACA,KACA,WACA,OAIa,e,6CCnBf,yBAAilB,EAAG,G,kCCAplB,yBAA+kB,EAAG,G","file":"js/chunk-6605dba5.5c162d42.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./analysis.vue?vue&type=style&index=0&id=2c2ded35&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./analysis.vue?vue&type=style&index=0&id=2c2ded35&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./column-bar-sub.vue?vue&type=style&index=0&id=e54f6984&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./column-bar-sub.vue?vue&type=style&index=0&id=e54f6984&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"analysis\"},[_c('heat-map',{staticClass:\"heat-map\",attrs:{\"heat-map-data\":_vm.heatMapData}}),_c('div',{staticClass:\"second-container\"},[_c('columnBar',{staticClass:\"company-size\",attrs:{\"company-size-data\":_vm.companySizeData}}),_c('columnBarSub',{staticClass:\"education\",attrs:{\"education-data\":_vm.educationData}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"heatmap-container\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"heatmap\",staticClass:\"heatmap\"}),_c('p',{staticClass:\"title\"},[_vm._v(\"经验 => 薪资\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"heatmap-container\">\r\n    <div ref=\"heatmap\" v-loading=\"loading\" class=\"heatmap\"></div>\r\n    <p class=\"title\">经验 => 薪资</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    heatMapData: {\r\n      type: Array,\r\n      default: function() {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      heatMapDom: {},\r\n      salary: [\r\n        // 暂时性定死\r\n        '3k及以下',\r\n        '4k',\r\n        '6k',\r\n        '8k',\r\n        '10k',\r\n        '12k',\r\n        '14k',\r\n        '16k',\r\n        '20k',\r\n        '24k',\r\n        '28k',\r\n        '30K及以上'\r\n      ],\r\n      workYears: [\r\n        // 暂时性定死\r\n        '不限',\r\n        '应届毕业生',\r\n        '1年以下',\r\n        '1-3年',\r\n        '3-5年',\r\n        '5-10年',\r\n        '10年以上'\r\n      ],\r\n      data: []\r\n    }\r\n  },\r\n  watch: {\r\n    heatMapData: {\r\n      handler() {\r\n        this.data = this.heatMapData\r\n        this.initHeatmap()\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.heatMapDom = this.$echarts.init(this.$refs.heatmap)\r\n  },\r\n  activated() {},\r\n  methods: {\r\n    initHeatmap() {\r\n      // 300毫秒延迟会使动画看起来更人性化（其实就是看起来得到结果更快）\r\n      setTimeout(() => {\r\n        this.loading = false\r\n      }, 300)\r\n\r\n      // const mirai = this.workYears.map((item) => {\r\n      //   return {\r\n      //     name: item,\r\n      //     value: this.salary.map(() => {\r\n      //       return Math.round(Math.random() * 100)\r\n      //     })\r\n      //   }\r\n      // })\r\n\r\n      const data = []\r\n\r\n      /**\r\n       * 热力图坐标计算 [x, y, value]\r\n       *  eg. [0, 1, 36] [21, 0, 90]\r\n       * 第一个代表 x轴为 0，y轴为 1的方块，值为 36\r\n       * 第二个代表 x轴为 21，y轴为 0的方块，值为 90\r\n       */\r\n      this.data.forEach((item, idx) => {\r\n        item.value.forEach((element, index) => {\r\n          data.push([index, idx, element])\r\n        })\r\n      })\r\n\r\n      const option = {\r\n        animation: true,\r\n        grid: {\r\n          bottom: '20',\r\n          left: '10',\r\n          right: '20',\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          data: this.salary,\r\n          axisTick: {\r\n            show: false\r\n          },\r\n          axisLabel: {\r\n            color: '#303133'\r\n          },\r\n          axisLine: {\r\n            lineStyle: {\r\n              color: '#E9E9EB'\r\n            }\r\n          }\r\n        },\r\n        yAxis: {\r\n          type: 'category',\r\n          data: this.workYears,\r\n          axisTick: {\r\n            show: false\r\n          },\r\n          axisLabel: {\r\n            color: '#606266'\r\n          },\r\n          axisLine: {\r\n            lineStyle: {\r\n              color: '#606266'\r\n            }\r\n          }\r\n        },\r\n        // tooltip: {\r\n        //   trigger: 'axis',\r\n        //   backgroundColor: 'rgba(0,0,0,0.3)',\r\n        //   axisPointer: {\r\n        //     type: 'cross',\r\n        //     label: {\r\n        //       precision: '0'\r\n        //     }\r\n        //   }\r\n        // },\r\n        visualMap: {\r\n          type: 'piecewise',\r\n          pieces: [\r\n            { gte: 80, color: '#0087dc' },\r\n            { gt: 60, lte: 80, color: '#1ca2dc' },\r\n            { gt: 40, lte: 60, color: '#5bc3f0' },\r\n            {\r\n              gt: 20,\r\n              lte: 40,\r\n              color: '#A0CFFF'\r\n            },\r\n            { lte: 20, color: '#C6E2FF' }\r\n          ],\r\n          textStyle: {\r\n            color: '#606266'\r\n          },\r\n          orient: 'horizontal',\r\n          left: 'center',\r\n          top: '27'\r\n        },\r\n        series: {\r\n          type: 'heatmap',\r\n          data: data,\r\n          label: {\r\n            show: true\r\n          },\r\n          emphasis: {\r\n            itemStyle: {\r\n              shadowBlur: 10,\r\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n            }\r\n          }\r\n        }\r\n      }\r\n      this.heatMapDom.setOption(option)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~@/styles/index.scss';\r\n.heatmap-container {\r\n  position: relative;\r\n  .heatmap {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .title {\r\n    @include title-line($pos-top: 10px, $pos-left: 30px);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./heat-map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./heat-map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./heat-map.vue?vue&type=template&id=5cd6778b&scoped=true&\"\nimport script from \"./heat-map.vue?vue&type=script&lang=js&\"\nexport * from \"./heat-map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./heat-map.vue?vue&type=style&index=0&id=5cd6778b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5cd6778b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"company-size-container\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"companySize\",staticClass:\"chart\"}),_c('p',{staticClass:\"title\"},[_vm._v(\"企业规模\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"company-size-container\">\r\n    <div ref=\"companySize\" v-loading=\"loading\" class=\"chart\" />\r\n    <p class=\"title\">企业规模</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    companySizeData: {\r\n      type: Array,\r\n      default: function() {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      companySizeDom: {},\r\n      data: []\r\n    }\r\n  },\r\n  watch: {\r\n    companySizeData: {\r\n      handler() {\r\n        this.data = this.companySizeData\r\n        this.initCompanySize()\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.companySizepDom = this.$echarts.init(this.$refs.companySize)\r\n  },\r\n  methods: {\r\n    async initCompanySize() {\r\n      const xData = this.data.map((item) => item.name)\r\n      // 300毫秒延迟会使动画看起来更人性化（其实就是看起来得到结果更快）\r\n      setTimeout(() => {\r\n        this.loading = false\r\n      }, 300)\r\n\r\n      const option = {\r\n        color: ['#3398DB'],\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          backgroundColor: 'rgba(0,0,0,0.4)',\r\n          axisPointer: {\r\n            type: 'cross',\r\n            label: {\r\n              precision: '0',\r\n              backgroundColor: '#409EFF'\r\n            }\r\n          },\r\n          formatter: function(params) {\r\n            const { name, color, value } = params[0]\r\n            const line = `<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:${color};\"></span>${name}公司共发出 ${value} 条招聘数据`\r\n            return line\r\n          }\r\n        },\r\n        toolbox: {\r\n          show: true,\r\n          feature: {\r\n            dataZoom: {\r\n              yAxisIndex: 'none'\r\n            },\r\n            magicType: { type: ['line', 'bar'] },\r\n            restore: {},\r\n            saveAsImage: {}\r\n          },\r\n          right: '5%',\r\n          top: '5%'\r\n        },\r\n        grid: {\r\n          bottom: '20',\r\n          left: '10',\r\n          right: '20',\r\n          containLabel: true\r\n        },\r\n        xAxis: [\r\n          {\r\n            type: 'category',\r\n            data: xData,\r\n            axisTick: {\r\n              show: false\r\n            },\r\n            axisLabel: {\r\n              color: '#303133'\r\n            },\r\n            axisLine: {\r\n              lineStyle: {\r\n                color: '#E9E9EB'\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        yAxis: [\r\n          {\r\n            type: 'value',\r\n            axisLabel: {\r\n              color: '#303133'\r\n            },\r\n            axisTick: {\r\n              show: false\r\n            },\r\n            splitLine: {\r\n              lineStyle: {\r\n                color: 'rgba(239, 241, 244, .2'\r\n              }\r\n            },\r\n            splitArea: {\r\n              show: true,\r\n              areaStyle: {\r\n                color: ['rgba(239, 241, 244, .6)', '#FFF']\r\n              }\r\n            },\r\n            axisLine: {\r\n              lineStyle: {\r\n                color: '#E9E9EB'\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        series: [\r\n          {\r\n            // name: '企业规模',\r\n            type: 'bar',\r\n            barWidth: '30%',\r\n            color: '#409EFF',\r\n            data: this.data,\r\n            label: {\r\n              show: true,\r\n              position: 'top',\r\n              formatter(params) {\r\n                const { value } = params\r\n                return value + '条'\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      }\r\n      this.companySizepDom.setOption(option)\r\n      // this.$store.dispatch('setChartDOM', [chart])\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~@/styles/index.scss';\r\n// $main-text-color: red;\r\n.company-size-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  .chart {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .title {\r\n    @include title-line($pos-top: 10px, $pos-left: 30px);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./column-bar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./column-bar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./column-bar.vue?vue&type=template&id=656eab2f&scoped=true&\"\nimport script from \"./column-bar.vue?vue&type=script&lang=js&\"\nexport * from \"./column-bar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./column-bar.vue?vue&type=style&index=0&id=656eab2f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"656eab2f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"company-size-container\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"companySize\",staticClass:\"chart\"}),_c('p',{staticClass:\"title\"},[_vm._v(\"学历要求\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"company-size-container\">\r\n    <div ref=\"companySize\" v-loading=\"loading\" class=\"chart\" />\r\n    <p class=\"title\">学历要求</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    educationData: {\r\n      type: Array,\r\n      default: function() {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      companySizeDom: {},\r\n      data: []\r\n    }\r\n  },\r\n  watch: {\r\n    educationData: {\r\n      handler() {\r\n        this.data = this.educationData\r\n        this.initCompanySize()\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.companySizepDom = this.$echarts.init(this.$refs.companySize)\r\n  },\r\n  methods: {\r\n    async initCompanySize() {\r\n      /**\r\n       * 阶梯瀑布图\r\n       * 其实就是两个叠在一起（stack 相同）的 bar的组合\r\n       * 为了他的连续性，应从右往做算。右边第一个 sub bar的 value = 0（x)，往后的 value值为 x + (x + 1)。只需计算 data.length - 1个。\r\n       */\r\n\r\n      const subData = [0]\r\n      let subSum = 0\r\n      for (let index = this.data.length - 1; index > 0; index--) {\r\n        subSum += this.data[index].value\r\n        subData.unshift(subSum)\r\n      }\r\n\r\n      const xData = this.data.map((item) => item.name)\r\n      console.log(subData)\r\n\r\n      // 300毫秒延迟会使动画看起来更人性化（其实就是看起来得到结果更快）\r\n      setTimeout(() => {\r\n        this.loading = false\r\n      }, 300)\r\n\r\n      const option = {\r\n        color: ['#3398DB'],\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          backgroundColor: 'rgba(0, 0, 0, 0.4)',\r\n          axisPointer: {\r\n            type: 'shadow',\r\n            shadowStyle: {\r\n              color: 'rgba(0, 0, 0, 0.1)'\r\n            }\r\n          },\r\n          formatter(params) {\r\n            const { name, color, value } = params[1]\r\n            const line = `<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:${color};\"></span>学历为: ${name} 共${value} 条招聘数据`\r\n            return line\r\n          }\r\n        },\r\n        toolbox: {\r\n          show: true,\r\n          feature: {\r\n            dataZoom: {\r\n              yAxisIndex: 'none'\r\n            },\r\n            magicType: { type: ['line', 'bar'] },\r\n            restore: {},\r\n            saveAsImage: {}\r\n          },\r\n          right: '5%',\r\n          top: '5%'\r\n        },\r\n        grid: {\r\n          bottom: '40',\r\n          left: '10',\r\n          right: '20'\r\n          // containLabel: true\r\n        },\r\n        xAxis: [\r\n          {\r\n            type: 'category',\r\n            data: xData,\r\n            axisTick: {\r\n              show: false\r\n            },\r\n            axisLabel: {\r\n              color: '#303133'\r\n            },\r\n            axisLine: {\r\n              lineStyle: {\r\n                color: '#E9E9EB'\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        yAxis: [\r\n          {\r\n            type: 'value',\r\n            axisLabel: {\r\n              color: '#303133',\r\n              show: false\r\n            },\r\n            axisTick: {\r\n              show: false\r\n            },\r\n            splitLine: {\r\n              lineStyle: {\r\n                color: 'rgba(239, 241, 244, .2'\r\n              }\r\n            },\r\n            splitArea: {\r\n              show: true,\r\n              areaStyle: {\r\n                color: ['rgba(239, 241, 244, .6)', '#FFF']\r\n              }\r\n            },\r\n            axisLine: {\r\n              lineStyle: {\r\n                color: '#E9E9EB'\r\n              }\r\n            },\r\n            splitNumber: 7\r\n          }\r\n        ],\r\n        series: [\r\n          {\r\n            stack: '企业规模',\r\n            type: 'bar',\r\n            // barWidth: '50%',\r\n            barMaxWidth: '200',\r\n            itemStyle: {\r\n              barBorderColor: 'rgba(0,0,0,0)',\r\n              color: 'rgba(0,0,0,0)'\r\n            },\r\n            emphasis: {\r\n              itemStyle: {\r\n                barBorderColor: 'rgba(0,0,0,0)',\r\n                color: 'rgba(0,0,0,0)'\r\n              }\r\n            },\r\n            data: subData\r\n          },\r\n          {\r\n            stack: '企业规模',\r\n            type: 'bar',\r\n            // barWidth: '50%',\r\n            barMaxWidth: '200',\r\n            color: '#409EFF',\r\n            data: this.data,\r\n            label: {\r\n              show: true,\r\n              position: 'inside',\r\n              formatter(params) {\r\n                const { value } = params\r\n                return value + '条'\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      }\r\n      this.companySizepDom.setOption(option)\r\n      // this.$store.dispatch('setChartDOM', [chart])\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~@/styles/index.scss';\r\n// $main-text-color: red;\r\n.company-size-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  .chart {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .title {\r\n    @include title-line($pos-top: 10px, $pos-left: 30px);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./column-bar-sub.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./column-bar-sub.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./column-bar-sub.vue?vue&type=template&id=e54f6984&scoped=true&\"\nimport script from \"./column-bar-sub.vue?vue&type=script&lang=js&\"\nexport * from \"./column-bar-sub.vue?vue&type=script&lang=js&\"\nimport style0 from \"./column-bar-sub.vue?vue&type=style&index=0&id=e54f6984&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e54f6984\",\n  null\n  \n)\n\nexport default component.exports","import request from './request'\r\n\r\n/**\r\n * 暂时性使用固定参数，后续看要求可改成 ...args\r\n */\r\n\r\nexport function getPositionHeatmap(loc = '前端开发', pos = '广东省') {\r\n  return request({\r\n    url: 'mirai-position/heat-map.json',\r\n    method: 'get',\r\n    params: {\r\n      loc,\r\n      pos\r\n    }\r\n  })\r\n}\r\n\r\nexport function getCompanySize(loc = '前端开发', pos = '广东省') {\r\n  return request({\r\n    url: 'mirai-position/company-size.json',\r\n    method: 'get',\r\n    params: {\r\n      loc,\r\n      pos\r\n    }\r\n  })\r\n}\r\n\r\nexport function getEducation(loc = '前端开发', pos = '广东省') {\r\n  return request({\r\n    url: 'mirai-position/education.json',\r\n    method: 'get',\r\n    params: {\r\n      loc,\r\n      pos\r\n    }\r\n  })\r\n}\r\n","<template>\r\n  <div class=\"analysis\">\r\n    <heat-map class=\"heat-map\" :heat-map-data=\"heatMapData\" />\r\n    <div class=\"second-container\">\r\n      <columnBar class=\"company-size\" :company-size-data=\"companySizeData\" />\r\n      <columnBarSub class=\"education\" :education-data=\"educationData\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport heatMap from './charts/heat-map'\r\nimport columnBar from './charts/column-bar'\r\nimport columnBarSub from './charts/column-bar-sub'\r\nimport {\r\n  getPositionHeatmap,\r\n  getCompanySize,\r\n  getEducation\r\n} from '@/api/position'\r\nexport default {\r\n  components: {\r\n    heatMap,\r\n    columnBar,\r\n    columnBarSub\r\n  },\r\n  data() {\r\n    return {\r\n      heatMapData: [],\r\n      companySizeData: [],\r\n      educationData: []\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getHeatmapData()\r\n    this.getCompanySizeData()\r\n    this.getEducationData()\r\n  },\r\n  activated() {},\r\n  methods: {\r\n    async getHeatmapData() {\r\n      const { data } = await getPositionHeatmap()\r\n      this.heatMapData = data\r\n    },\r\n    async getCompanySizeData() {\r\n      const { data } = await getCompanySize()\r\n      this.companySizeData = data\r\n    },\r\n    async getEducationData() {\r\n      const { data } = await getEducation()\r\n      this.educationData = data\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.analysis {\r\n  width: 100%;\r\n  height: auto;\r\n  overflow: hidden;\r\n  overflow-y: scroll;\r\n  .heat-map {\r\n    width: 100%;\r\n    height: 400px;\r\n    background: #fff;\r\n  }\r\n  .second-container {\r\n    margin-top: 10px;\r\n    display: flex;\r\n    .company-size {\r\n      height: 400px;\r\n      background: #fff;\r\n    }\r\n    .education {\r\n      margin-left: 10px;\r\n      height: 400px;\r\n      background: #fff;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./analysis.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./analysis.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./analysis.vue?vue&type=template&id=2c2ded35&scoped=true&\"\nimport script from \"./analysis.vue?vue&type=script&lang=js&\"\nexport * from \"./analysis.vue?vue&type=script&lang=js&\"\nimport style0 from \"./analysis.vue?vue&type=style&index=0&id=2c2ded35&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c2ded35\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./column-bar.vue?vue&type=style&index=0&id=656eab2f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./column-bar.vue?vue&type=style&index=0&id=656eab2f&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./heat-map.vue?vue&type=style&index=0&id=5cd6778b&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./heat-map.vue?vue&type=style&index=0&id=5cd6778b&lang=scss&scoped=true&\""],"sourceRoot":""}